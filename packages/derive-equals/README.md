# @traversable/derive-equals

Re-use your schema definitions to derive super fast, in-memory "equals" functions.

## What this package does

- An "equals function" is a function that accepts 2 values, and returns a boolean indicating whether the values
are made up of the same component parts.

## Notable features

### Portable
  - Derived equals functions are "isomorphic" -- JS-speak for "works on both the client and on the server"

### Performance
 - All the functions derived by `@traversable/derive-equals` are consistently:
  - **3-4x faster than `node:assert/deepStrictEqual`**, and 
  - **4-6x faster than lodash.deepEqual**

### Drop-in replacement

  - Equals functions generated by `@traversable/derive-equals` have been thoroughly 
    **fuzz-tested against millions of randomly generated inputs** 
    (via [`fast-check`](https://github.com/dubzzz/fast-check)) to make the transition
    seamless for our users


## Example

```typecript
import { t } from '@traversable/schema'
import { Eq } from '@traversable/derive-equals'

const Todo = t.object({
  complete: t.boolean,
  title: t.string,
  body: t.optional(t.array(t.string)),
})

interface Todo extends t.typeof<typeof Todo> {}

const todoEquals = Eq.fromSchema(Todo) 
//     ^? const todoEquals: Eq<{ complete: boolean, title: string, body?: string[] }>

const A: Todo = {
  complete: false,
  title: 'Todo A',
  body: [
    'Line 1',
    'Line 2',
    'Line 3',
  ]
}

const B: Todo = {
  ...A,
  body: [
    ...A.body,
  ]
}

const C: Todo = {
  ...A,
  body: [
    ...A.body,
    'Line 4',
  ]
}

console.log(todoEquals(A, B)) // => true
console.log(todoEquals(A, A)) // => true
console.log(todoEquals(B, B)) // => true
console.log(todoEquals(A, C)) // => false
console.log(todoEquals(B, A)) // => false
```
