<br />
  <h1 align="center">ᯓ𝘁𝗿𝗮𝘃𝗲𝗿𝘀𝗮𝗯𝗹𝗲/𝗱𝗲𝗿𝗶𝘃𝗲-𝗲𝗾𝘂𝗮𝗹𝘀</h1>
<br />

<p align="center">
Re-use your schema definitions to derive super fast, in-memory <b>equals functions</b> (with even faster <em>compiled</em> equals functions coming soon!)
</p>

<div align="center">
  <img alt="NPM Version" src="https://img.shields.io/npm/v/%40traversable%2Fderive-equals?style=flat-square&logo=npm&label=npm&color=blue">
  &nbsp;
  <img alt="TypeScript" src="https://img.shields.io/badge/TypeScript-5.5%2B-blue?style=flat-square&logo=TypeScript&logoColor=4a9cf6">
  &nbsp;
  <img alt="Static Badge" src="https://img.shields.io/badge/license-MIT-a094a2?style=flat-square">
  &nbsp;
  <img alt="npm" src="https://img.shields.io/npm/dt/@traversable/derive-equals?style=flat-square">
  &nbsp;
</div>

<div align="center">
  <img alt="npm bundle size (scoped)" src="https://img.shields.io/bundlephobia/minzip/%40traversable/derive-equals?style=flat-square&label=size">
  &nbsp;
  <img alt="Static Badge" src="https://img.shields.io/badge/ESM-supported-2d9574?style=flat-square&logo=JavaScript">
  &nbsp;
  <img alt="Static Badge" src="https://img.shields.io/badge/CJS-supported-2d9574?style=flat-square&logo=Node.JS">
  &nbsp;
</div>

<br />
<br />


## Overview

- An "equals function" is a function that accepts 2 values, and returns a boolean indicating whether the values
are made up of the same component parts.

### Notable features

#### Portable
  - Derived equals functions are "isomorphic" -- JS-speak for "works on both the client and on the server"

#### Performance
 - All the functions derived by `@traversable/derive-equals` are consistently:
  - **3-4x faster than `node:assert/deepStrictEqual`**, and 
  - **4-6x faster than lodash.deepEqual**

#### Drop-in replacement

  - Equals functions generated by `@traversable/derive-equals` have been thoroughly 
    **fuzz-tested against millions of randomly generated inputs** 
    (via [`fast-check`](https://github.com/dubzzz/fast-check)) to make the transition
    seamless for our users


### Example

```typecript
import { t } from '@traversable/schema'
import { Eq } from '@traversable/derive-equals'

const Todo = t.object({
  complete: t.boolean,
  title: t.string,
  body: t.optional(t.array(t.string)),
})

interface Todo extends t.typeof<typeof Todo> {}

const todoEquals = Eq.fromSchema(Todo) 
//     ^? const todoEquals: Eq<{ complete: boolean, title: string, body?: string[] }>

const A: Todo = {
  complete: false,
  title: 'Todo A',
  body: [
    'Line 1',
    'Line 2',
    'Line 3',
  ]
}

const B: Todo = {
  ...A,
  body: [
    ...A.body,
  ]
}

const C: Todo = {
  ...A,
  body: [
    ...A.body,
    'Line 4',
  ]
}

console.log(todoEquals(A, B)) // => true
console.log(todoEquals(A, A)) // => true
console.log(todoEquals(B, B)) // => true
console.log(todoEquals(A, C)) // => false
console.log(todoEquals(B, A)) // => false
```
