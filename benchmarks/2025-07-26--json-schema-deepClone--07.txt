clk: ~2.93 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: object (deep)
------------------------------------------- -------------------------------
Lodash                         1.15 ms/iter   1.54 ms   â–ˆ
                      (814.54 Âµs â€¦ 1.90 ms)   1.82 ms  â–ˆâ–ˆâ–ƒ
                    (  2.95 kb â€¦   1.70 mb) 208.31 kb â–â–ˆâ–ˆâ–ˆâ–†â–‚â–‚â–â–â–â–â–â–‚â–ƒâ–…â–…â–…â–…â–…â–ƒâ–‚
                  4.32 ipc (  1.17% stalls)  98.61% L1 data cache
          3.37M cycles  14.55M instructions  31.92% retired LD/ST (  4.64M)

JsonJoy                       70.85 Âµs/iter  61.54 Âµs â–ˆ
                       (28.67 Âµs â€¦ 1.03 ms) 746.08 Âµs â–ˆ
                    (  3.83 kb â€¦ 209.60 kb)  36.36 kb â–ˆâ–ˆâ–†â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.37 ipc (  1.53% stalls)  97.75% L1 data cache
        205.39k cycles 692.27k instructions  34.73% retired LD/ST (240.45k)

structuredClone              154.67 Âµs/iter 144.50 Âµs  â–ˆ
                      (105.67 Âµs â€¦ 3.16 ms) 838.33 Âµs â–†â–ˆ
                    ( 50.38 kb â€¦ 289.54 kb)  50.66 kb â–ˆâ–ˆâ–…â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.80 ipc (  1.29% stalls)  98.74% L1 data cache
        456.06k cycles   1.73M instructions  35.13% retired LD/ST (608.37k)

JSON.stringify + JSON.parse  152.55 Âµs/iter 145.54 Âµs â–ˆâ–„
                       (96.58 Âµs â€¦ 1.11 ms) 854.58 Âµs â–ˆâ–ˆ
                    ( 10.34 kb â€¦ 159.20 kb)  30.65 kb â–ˆâ–ˆâ–‡â–ƒâ–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.16 ipc (  1.08% stalls)  98.39% L1 data cache
        447.51k cycles   1.41M instructions  36.98% retired LD/ST (522.68k)

JsonSchema.deepClone           4.93 Âµs/iter   5.00 Âµs  â–‚  â–ˆ  â–‚    â–‚
                        (4.79 Âµs â€¦ 5.24 Âµs)   5.14 Âµs  â–ˆ â–‡â–ˆâ–‡ â–ˆâ–‚â–‡  â–ˆ â–‚   â–‚
                    (  2.10  b â€¦   4.29 kb) 150.38  b â–„â–ˆâ–‡â–ˆâ–ˆâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–„â–„â–ˆâ–„â–ˆâ–„â–‡â–â–ˆâ–„â–‡
                  5.10 ipc (  2.48% stalls)  98.95% L1 data cache
         15.38k cycles  78.45k instructions  35.80% retired LD/ST ( 28.09k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  1.15 ms
                     JsonJoy â”¤â– â–  70.85 Âµs
             structuredClone â”¤â– â– â– â–  154.67 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â–  152.55 Âµs
        JsonSchema.deepClone â”¤ 4.93 Âµs
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   14.36x faster than JsonJoy
   30.93x faster than JSON.stringify + JSON.parse
   31.36x faster than structuredClone
   234.14x faster than Lodash

clk: ~2.96 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: object (shallow)
------------------------------------------- -------------------------------
Lodash                       930.00 ns/iter 970.20 ns          â–…â–†â–ˆâ–„
                      (632.31 ns â€¦ 1.21 Âµs)   1.13 Âµs          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–„
                    (  2.52  b â€¦ 888.51  b)  72.09  b â–â–â–â–â–â–â–â–‚â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–†â–‚â–â–‚
                  3.88 ipc (  1.50% stalls)  97.99% L1 data cache
          2.60k cycles  10.10k instructions  37.91% retired LD/ST (  3.83k)

JsonJoy                      189.70 ns/iter 185.86 ns    â–…â–ˆ
                     (98.64 ns â€¦ 485.23 ns) 381.04 ns    â–ˆâ–ˆâ–ƒ
                    ( 14.86  b â€¦ 422.18  b) 118.12  b â–ƒâ–â–â–ˆâ–ˆâ–ˆâ–…â–‚â–â–â–â–â–‚â–…â–„â–„â–ƒâ–‚â–‚â–‚â–
                  4.86 ipc (  1.77% stalls)  98.73% L1 data cache
         535.49 cycles   2.60k instructions  34.07% retired LD/ST ( 886.12)

structuredClone                1.18 Âµs/iter   1.21 Âµs       â–‚â–„â–ˆâ–ƒ
                        (1.06 Âµs â€¦ 1.77 Âµs)   1.34 Âµs       â–ˆâ–ˆâ–ˆâ–ˆâ–‡â–ˆ
                    (  8.92  b â€¦ 121.68  b)  37.59  b â–‚â–ˆâ–…â–†â–ˆâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–„â–ƒâ–‚â–‚â–â–‚â–‚
                  4.27 ipc (  1.27% stalls)  98.19% L1 data cache
          3.44k cycles  14.69k instructions  34.84% retired LD/ST (  5.12k)

JSON.stringify + JSON.parse  536.53 ns/iter 561.36 ns â–‚â–†    â–ˆ
                    (454.65 ns â€¦ 851.04 ns) 791.32 ns â–ˆâ–ˆ    â–ˆ
                    (102.62  b â€¦ 286.25  b) 120.52  b â–ˆâ–ˆâ–ƒâ–‚â–â–ˆâ–ˆâ–ˆâ–…â–‚â–â–‚â–‚â–â–â–â–‚â–ƒâ–ƒâ–ƒâ–
                  4.99 ipc (  0.70% stalls)  98.85% L1 data cache
          1.65k cycles   8.22k instructions  36.66% retired LD/ST (  3.01k)

JsonSchema.deepClone          82.46 ns/iter  77.77 ns     â–ˆ
                     (19.61 ns â€¦ 326.37 ns) 250.34 ns    â–ˆâ–ˆâ–„
                    (  0.96  b â€¦ 224.13  b)  76.68  b â–‚â–â–â–ˆâ–ˆâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–‚â–‚â–ƒâ–‚â–‚â–
                  4.10 ipc (  1.85% stalls)  98.59% L1 data cache
         229.15 cycles  939.01 instructions  40.08% retired LD/ST ( 376.31)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  930.00 ns
                     JsonJoy â”¤â– â– â–  189.70 ns
             structuredClone â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  1.18 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â–  536.53 ns
        JsonSchema.deepClone â”¤ 82.46 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   2.3x faster than JsonJoy
   6.51x faster than JSON.stringify + JSON.parse
   11.28x faster than Lodash
   14.28x faster than structuredClone

clk: ~2.99 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: tuple
------------------------------------------- -------------------------------
Lodash                        10.41 Âµs/iter  10.51 Âµs             â–ˆ  â–ˆ
                      (10.15 Âµs â€¦ 10.71 Âµs)  10.64 Âµs â–ˆ  â–ˆ  â–ˆ â–ˆ  â–ˆâ–ˆâ–ˆ â–ˆ
                    (  4.61  b â€¦   1.97 kb) 388.60  b â–ˆâ–â–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–â–ˆâ–ˆ
                  4.75 ipc (  0.53% stalls)  99.48% L1 data cache
         33.17k cycles 157.48k instructions  33.77% retired LD/ST ( 53.18k)

JsonJoy                      491.96 ns/iter 554.83 ns   â–ˆ
                    (370.30 ns â€¦ 804.19 ns) 747.28 ns   â–ˆâ–„     â–‚
                    ( 98.06  b â€¦   0.99 kb) 480.80  b â–â–…â–ˆâ–ˆâ–„â–ƒâ–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–†â–„â–â–‚â–‚â–â–â–â–
                  4.77 ipc (  1.32% stalls)  98.49% L1 data cache
          1.41k cycles   6.75k instructions  35.80% retired LD/ST (  2.42k)

structuredClone                1.61 Âµs/iter   1.62 Âµs        â–ˆâ–ƒ
                        (1.56 Âµs â€¦ 1.70 Âµs)   1.69 Âµs     â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–†â–‡â–‚
                    ( 11.88  b â€¦ 606.57  b)  29.94  b â–‚â–â–„â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–ƒâ–„â–â–â–â–â–â–‚
                  4.78 ipc (  1.44% stalls)  98.54% L1 data cache
          4.93k cycles  23.60k instructions  35.72% retired LD/ST (  8.43k)

JSON.stringify + JSON.parse    1.23 Âµs/iter   1.24 Âµs       â–†â–ˆ
                        (1.19 Âµs â€¦ 1.33 Âµs)   1.31 Âµs     â–…â–ˆâ–ˆâ–ˆâ–ˆâ–‡â–ƒ
                    (  8.95  b â€¦ 167.73  b)  16.61  b â–‚â–ƒâ–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–‚â–ƒâ–‚â–ƒâ–‚â–â–â–‚
                  4.56 ipc (  1.16% stalls)  98.93% L1 data cache
          3.71k cycles  16.95k instructions  37.34% retired LD/ST (  6.33k)

JsonSchema.deepClone         170.37 ns/iter 179.82 ns       â–†â–ˆ
                     (38.19 ns â€¦ 422.63 ns) 378.14 ns       â–ˆâ–ˆâ–„
                    (  0.23  b â€¦ 416.19  b) 151.77  b â–†â–â–â–â–‚â–„â–ˆâ–ˆâ–ˆâ–†â–„â–„â–ƒâ–‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚
                  3.96 ipc (  1.80% stalls)  98.77% L1 data cache
         474.50 cycles   1.88k instructions  41.81% retired LD/ST ( 785.07)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  10.41 Âµs
                     JsonJoy â”¤â–  491.96 ns
             structuredClone â”¤â– â– â– â– â–  1.61 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â–  1.23 Âµs
        JsonSchema.deepClone â”¤ 170.37 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   2.89x faster than JsonJoy
   7.24x faster than JSON.stringify + JSON.parse
   9.44x faster than structuredClone
   61.12x faster than Lodash

clk: ~3.03 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: array (deep)
------------------------------------------- -------------------------------
Lodash                         4.35 ms/iter   4.44 ms   â–„â–‚â–„â–ˆâ–ƒ
                        (4.05 ms â€¦ 5.74 ms)   5.20 ms  â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‚
                    ( 30.57 kb â€¦ 644.38 kb)  54.14 kb â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–ƒâ–ƒâ–‚â–‚â–‚â–â–‚â–â–â–‚
                  4.43 ipc (  1.17% stalls)  98.69% L1 data cache
         12.82M cycles  56.79M instructions  32.45% retired LD/ST ( 18.43M)

JsonJoy                      216.08 Âµs/iter 212.58 Âµs   â–ˆ
                      (107.83 Âµs â€¦ 1.16 ms) 888.88 Âµs  â–„â–ˆ
                    (680.00  b â€¦ 305.66 kb) 149.45 kb â–ƒâ–ˆâ–ˆâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.98 ipc (  1.30% stalls)  98.53% L1 data cache
        628.82k cycles   2.50M instructions  35.65% retired LD/ST (891.50k)

structuredClone              634.13 Âµs/iter 584.83 Âµs   â–ˆ
                      (423.83 Âµs â€¦ 1.62 ms)   1.49 ms   â–ˆ
                    (210.84 kb â€¦ 211.71 kb) 210.91 kb â–…â–„â–ˆâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–â–â–‚â–‚â–‚â–‚â–‚â–
                  4.00 ipc (  1.41% stalls)  98.79% L1 data cache
          1.86M cycles   7.44M instructions  35.16% retired LD/ST (  2.61M)

JSON.stringify + JSON.parse  589.56 Âµs/iter 533.83 Âµs  â–ˆâ–…
                      (423.04 Âµs â€¦ 1.37 ms)   1.25 ms  â–ˆâ–ˆ
                    (  8.92 kb â€¦ 130.45 kb) 126.14 kb â–‚â–ˆâ–ˆâ–‡â–ƒâ–â–â–â–â–â–â–â–â–â–â–â–â–„â–„â–‚â–
                  3.41 ipc (  1.22% stalls)  98.45% L1 data cache
          1.74M cycles   5.94M instructions  37.16% retired LD/ST (  2.21M)

JsonSchema.deepClone          17.72 Âµs/iter  17.80 Âµs  â–ˆ        â–ˆ  â–ˆ   â–ˆ
                      (17.56 Âµs â€¦ 17.94 Âµs)  17.85 Âµs â–…â–ˆâ–…â–…â–…     â–ˆ  â–ˆâ–…  â–ˆ â–…â–…
                    ( 13.27  b â€¦   1.28 kb) 282.46  b â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–â–â–â–â–â–ˆâ–â–â–ˆâ–ˆâ–â–â–ˆâ–â–ˆâ–ˆ
                  5.57 ipc (  3.57% stalls)  96.74% L1 data cache
         55.37k cycles 308.67k instructions  35.73% retired LD/ST (110.28k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  4.35 ms
                     JsonJoy â”¤â– â–  216.08 Âµs
             structuredClone â”¤â– â– â– â– â–  634.13 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â–  589.56 Âµs
        JsonSchema.deepClone â”¤ 17.72 Âµs
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   12.2x faster than JsonJoy
   33.28x faster than JSON.stringify + JSON.parse
   35.79x faster than structuredClone
   245.47x faster than Lodash


ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: Fuzz
  data: {}


  schema: {
    "type": "object",
    "properties": {},
    "required": []
  }

clk: ~2.93 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: fuzz
------------------------------------------- -------------------------------
structuredClone              850.32 ns/iter 865.71 ns     â–‚ â–†â–ˆâ–‚
                    (797.20 ns â€¦ 956.00 ns) 930.97 ns    â–†â–ˆâ–†â–ˆâ–ˆâ–ˆâ–ƒâ–ƒâ–†
                    ( 13.44  b â€¦ 139.22  b)  32.49  b â–â–…â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–‡â–…â–ƒâ–„â–„â–ƒâ–‚â–‚
                  4.36 ipc (  1.72% stalls)  97.91% L1 data cache
          2.46k cycles  10.73k instructions  35.88% retired LD/ST (  3.85k)

Lodash                         4.00 Âµs/iter   4.04 Âµs           â–†â–ˆ
                        (3.87 Âµs â€¦ 4.10 Âµs)   4.09 Âµs   â–‚     â–‡ â–ˆâ–ˆâ–ˆâ–‡â–…â–‡ â–‚â–ˆ
                    (  0.19  b â€¦  13.81  b)   4.48  b â–ƒâ–†â–ˆâ–†â–â–â–â–ˆâ–ˆâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–ˆâ–ˆâ–ˆâ–ƒ
                  4.86 ipc (  0.76% stalls)  99.14% L1 data cache
         12.50k cycles  60.75k instructions  34.21% retired LD/ST ( 20.78k)

JSON.stringify + JSON.parse  297.32 ns/iter 286.63 ns  â–‚ â–‚â–ˆâ–‡
                    (215.57 ns â€¦ 513.65 ns) 477.45 ns  â–ˆ â–ˆâ–ˆâ–ˆ            â–ƒ
                    (  0.44  b â€¦ 266.19  b)  71.17  b â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–‚â–â–â–â–â–â–â–â–‚â–ƒâ–…â–ˆâ–…â–‚
                  4.69 ipc (  1.47% stalls)  97.75% L1 data cache
         885.41 cycles   4.15k instructions  36.84% retired LD/ST (  1.53k)

JsonSchema.deepClone          47.16 ns/iter  48.61 ns    â–ˆâ–†
                      (4.30 ns â€¦ 239.79 ns) 195.41 ns    â–ˆâ–ˆâ–„
                    (  1.70  b â€¦ 134.06  b)  55.56  b â–ƒâ–â–„â–ˆâ–ˆâ–ˆâ–…â–‚â–â–â–â–â–â–â–â–â–â–‚â–‚â–‚â–
                  2.78 ipc (  1.84% stalls)  98.49% L1 data cache
         125.11 cycles  347.60 instructions  42.65% retired LD/ST ( 148.27)

                             â”Œ                                            â”
             structuredClone â”¤â– â– â– â– â– â– â–  850.32 ns
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  4.00 Âµs
 JSON.stringify + JSON.parse â”¤â– â–  297.32 ns
        JsonSchema.deepClone â”¤ 47.16 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   6.3x faster than JSON.stringify + JSON.parse
   18.03x faster than structuredClone
   84.83x faster than Lodash
