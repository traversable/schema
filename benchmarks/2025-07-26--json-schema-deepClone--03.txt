clk: ~2.98 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: tuple
------------------------------------------- -------------------------------
Lodash                         5.96 Âµs/iter   6.01 Âµs      â–…  â–ˆ
                        (5.80 Âµs â€¦ 6.26 Âµs)   6.22 Âµs  â–‡â–‚ â–‡â–ˆâ–…â–‚â–ˆ â–‡   â–‚
                    (  4.59  b â€¦   1.97 kb) 157.47  b â–‡â–ˆâ–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–ˆâ–„â–â–â–ˆâ–„â–‡â–â–â–„â–„
                  4.76 ipc (  0.76% stalls)  99.21% L1 data cache
         18.89k cycles  89.95k instructions  33.55% retired LD/ST ( 30.18k)

JsonJoy                      474.36 ns/iter 543.74 ns    â–ˆ
                    (343.63 ns â€¦ 755.80 ns) 663.23 ns   â–ˆâ–ˆâ–‡      â–„â–…â–„â–‚
                    ( 23.48  b â€¦ 866.26  b) 467.07  b â–â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–…â–„â–„â–ƒâ–†â–ˆâ–ˆâ–ˆâ–ˆâ–…â–„â–ƒâ–‚â–‚â–
                  4.77 ipc (  1.44% stalls)  98.14% L1 data cache
          1.36k cycles   6.47k instructions  35.07% retired LD/ST (  2.27k)

structuredClone                1.77 Âµs/iter   1.79 Âµs    â–ˆâ–„
                        (1.71 Âµs â€¦ 2.18 Âµs)   1.93 Âµs  â–„â–‡â–ˆâ–ˆâ–†â–„â–‚â–‚
                    ( 11.57  b â€¦ 682.61  b)  34.41  b â–…â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–…â–…â–„â–‚â–ƒâ–‚â–‚â–â–‚â–‚â–‚
                  4.82 ipc (  1.46% stalls)  98.42% L1 data cache
          5.42k cycles  26.12k instructions  35.36% retired LD/ST (  9.23k)

JSON.stringify + JSON.parse    1.28 Âµs/iter   1.29 Âµs     â–†â–ˆâ–…
                        (1.24 Âµs â€¦ 1.39 Âµs)   1.37 Âµs   â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–‡ â–‚
                    (  3.16  b â€¦ 191.60  b)  18.89  b â–‚â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–ƒâ–‚â–‚â–‚â–‚â–â–‚â–ƒâ–â–ƒ
                  4.69 ipc (  1.07% stalls)  98.95% L1 data cache
          3.87k cycles  18.12k instructions  36.94% retired LD/ST (  6.69k)

JsonSchema.deepClone         299.14 ns/iter 436.70 ns â–ˆ â–ˆ
                    (116.66 ns â€¦ 694.35 ns) 678.58 ns â–ˆ â–ˆ    â–‡       â–„
                    ( 23.24  b â€¦ 470.18  b) 137.94  b â–ˆâ–†â–ˆâ–ƒâ–â–â–…â–ˆâ–†â–„â–‚â–â–â–â–‚â–ˆâ–‡â–ƒâ–ƒâ–„â–‚
                  3.45 ipc (  1.88% stalls)  97.47% L1 data cache
         829.70 cycles   2.86k instructions  37.12% retired LD/ST (  1.06k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  5.96 Âµs
                     JsonJoy â”¤â–  474.36 ns
             structuredClone â”¤â– â– â– â– â– â– â– â– â–  1.77 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â–  1.28 Âµs
        JsonSchema.deepClone â”¤ 299.14 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   1.59x faster than JsonJoy
   4.28x faster than JSON.stringify + JSON.parse
   5.93x faster than structuredClone
   19.92x faster than Lodash

clk: ~2.97 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: object (shallow)
------------------------------------------- -------------------------------
Lodash                       792.88 ns/iter 942.88 ns                â–ˆ
                      (306.24 ns â€¦ 1.26 Âµs)   1.12 Âµs       â–ƒ        â–ˆâ–ˆ
                    (  7.71  b â€¦   1.18 kb) 471.24  b â–†â–â–â–â–†â–†â–ˆâ–ƒâ–‚â–‚â–â–â–â–‚â–ˆâ–ˆâ–ˆâ–‡â–„â–‚â–‚
                  3.90 ipc (  1.49% stalls)  98.76% L1 data cache
          2.23k cycles   8.71k instructions  38.25% retired LD/ST (  3.33k)

JsonJoy                      176.35 ns/iter 168.15 ns    â–‡â–ˆ
                     (95.68 ns â€¦ 392.17 ns) 340.33 ns    â–ˆâ–ˆ
                    (  0.85  b â€¦ 407.46  b) 114.70  b â–‚â–â–â–ˆâ–ˆâ–‡â–‚â–â–â–â–â–â–â–ƒâ–„â–…â–…â–ƒâ–â–â–
                  5.12 ipc (  2.00% stalls)  98.73% L1 data cache
         504.31 cycles   2.58k instructions  33.91% retired LD/ST ( 876.43)

structuredClone                1.04 Âµs/iter   1.05 Âµs    â–ƒâ–†â–ˆ
                        (1.00 Âµs â€¦ 1.22 Âµs)   1.17 Âµs   â–†â–ˆâ–ˆâ–ˆâ–†
                    ( 13.94  b â€¦ 464.47  b)  34.97  b â–â–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–…â–‚â–‚â–‚â–ƒâ–‚â–â–â–â–â–â–â–
                  4.63 ipc (  1.31% stalls)  98.36% L1 data cache
          3.11k cycles  14.40k instructions  34.84% retired LD/ST (  5.02k)

JSON.stringify + JSON.parse  495.26 ns/iter 522.95 ns  â–ˆ    â–ƒ
                    (421.42 ns â€¦ 815.70 ns) 736.77 ns  â–ˆ    â–ˆ
                    (  9.00  b â€¦ 262.25  b) 112.13  b â–„â–ˆâ–‚â–â–â–‚â–ˆâ–ˆâ–‚â–‚â–â–â–â–â–â–â–â–â–‚â–‚â–‚
                  5.03 ipc (  0.73% stalls)  98.98% L1 data cache
          1.53k cycles   7.70k instructions  37.14% retired LD/ST (  2.86k)

JsonSchema.deepClone          78.52 ns/iter  73.96 ns    â–ˆ
                     (20.13 ns â€¦ 277.26 ns) 249.64 ns    â–ˆâ–ˆ
                    (  1.30  b â€¦ 208.13  b)  76.43  b â–‚â–â–‚â–ˆâ–ˆâ–ˆâ–ƒâ–‚â–â–â–â–â–â–â–â–‚â–‚â–‚â–‚â–â–
                  3.91 ipc (  1.88% stalls)  98.60% L1 data cache
         216.71 cycles  847.84 instructions  39.54% retired LD/ST ( 335.20)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  792.88 ns
                     JsonJoy â”¤â– â– â–  176.35 ns
             structuredClone â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  1.04 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  495.26 ns
        JsonSchema.deepClone â”¤ 78.52 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   2.25x faster than JsonJoy
   6.31x faster than JSON.stringify + JSON.parse
   10.1x faster than Lodash
   13.31x faster than structuredClone

clk: ~2.99 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: array (deep)
------------------------------------------- -------------------------------
Lodash                       889.98 Âµs/iter 832.33 Âµs   â–ˆ
                      (680.00 Âµs â€¦ 1.88 ms)   1.66 ms   â–ˆâ–„
                    (  9.69 kb â€¦   1.22 mb) 213.03 kb â–„â–ˆâ–ˆâ–ˆâ–„â–â–â–â–â–â–â–â–â–â–â–‚â–‚â–ƒâ–ƒâ–‚â–
                  4.55 ipc (  0.92% stalls)  98.76% L1 data cache
          2.66M cycles  12.09M instructions  32.01% retired LD/ST (  3.87M)

JsonJoy                       61.70 Âµs/iter  52.21 Âµs â–ˆ
                     (26.13 Âµs â€¦ 968.38 Âµs) 703.13 Âµs â–ˆ
                    (240.00  b â€¦ 195.38 kb)  35.76 kb â–ˆâ–‡â–…â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.55 ipc (  1.48% stalls)  97.59% L1 data cache
        180.21k cycles 639.89k instructions  34.89% retired LD/ST (223.23k)

structuredClone              144.28 Âµs/iter 131.42 Âµs  â–ˆ
                     (98.54 Âµs â€¦ 912.21 Âµs) 795.13 Âµs â–…â–ˆ
                    ( 44.08 kb â€¦ 270.69 kb)  47.25 kb â–ˆâ–ˆâ–†â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.90 ipc (  1.31% stalls)  98.56% L1 data cache
        427.66k cycles   1.67M instructions  35.09% retired LD/ST (585.18k)

JSON.stringify + JSON.parse  128.52 Âµs/iter 111.50 Âµs â–ˆ
                       (89.42 Âµs â€¦ 1.02 ms) 748.29 Âµs â–ˆâ–‚
                    (  6.22 kb â€¦ 113.01 kb)  28.35 kb â–ˆâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.46 ipc (  1.20% stalls)  98.37% L1 data cache
        380.33k cycles   1.32M instructions  37.07% retired LD/ST (488.36k)

JsonSchema.deepClone           6.35 Âµs/iter   6.44 Âµs      â–…  â–ˆ
                        (5.97 Âµs â€¦ 7.12 Âµs)   6.94 Âµs   â–…â–‚â–‚â–ˆâ–‡ â–ˆâ–‚â–‚ â–‚ â–‚
                    (  0.37  b â€¦  13.85 kb) 586.13  b â–„â–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–„â–ˆâ–„â–ˆâ–â–â–„â–â–â–„
                  4.55 ipc (  1.57% stalls)  99.01% L1 data cache
         19.76k cycles  89.87k instructions  35.60% retired LD/ST ( 32.00k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  889.98 Âµs
                     JsonJoy â”¤â– â–  61.70 Âµs
             structuredClone â”¤â– â– â– â– â–  144.28 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â–  128.52 Âµs
        JsonSchema.deepClone â”¤ 6.35 Âµs
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   9.71x faster than JsonJoy
   20.23x faster than JSON.stringify + JSON.parse
   22.71x faster than structuredClone
   140.09x faster than Lodash

clk: ~3.02 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: object (deep)
------------------------------------------- -------------------------------
Lodash                         1.15 ms/iter   1.12 ms   â–ˆâ–ˆ
                      (936.17 Âµs â€¦ 2.19 ms)   1.97 ms  â–ƒâ–ˆâ–ˆ
                    ( 40.00  b â€¦   1.23 mb) 292.16 kb â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ƒâ–â–â–â–â–â–â–â–‚â–ƒâ–‚â–‚â–‚â–‚â–‚â–‚
                  4.69 ipc (  0.78% stalls)  99.06% L1 data cache
          3.47M cycles  16.26M instructions  31.93% retired LD/ST (  5.19M)

JsonJoy                       76.43 Âµs/iter  69.75 Âµs â–ˆ
                       (32.08 Âµs â€¦ 1.08 ms) 693.13 Âµs â–ˆâ–ˆ
                    (576.00  b â€¦ 190.78 kb)  41.92 kb â–ˆâ–ˆâ–ˆâ–ƒâ–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.56 ipc (  1.64% stalls)  97.81% L1 data cache
        220.45k cycles 785.33k instructions  34.93% retired LD/ST (274.30k)

structuredClone              193.02 Âµs/iter 161.25 Âµs  â–ˆ
                    (117.38 Âµs â€¦ 948.33 Âµs) 888.38 Âµs â–‚â–ˆ
                    ( 56.80 kb â€¦ 353.16 kb)  57.06 kb â–ˆâ–ˆâ–†â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–
                  3.77 ipc (  1.59% stalls)  98.39% L1 data cache
        559.84k cycles   2.11M instructions  34.96% retired LD/ST (737.61k)

JSON.stringify + JSON.parse  160.22 Âµs/iter 136.13 Âµs â–ˆ
                      (109.92 Âµs â€¦ 1.14 ms) 790.92 Âµs â–ˆâ–ˆ
                    (  7.73 kb â€¦ 152.41 kb)  35.63 kb â–ˆâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–
                  3.46 ipc (  1.42% stalls)  98.20% L1 data cache
        469.18k cycles   1.62M instructions  36.98% retired LD/ST (600.03k)

JsonSchema.deepClone           6.95 Âµs/iter   7.01 Âµs     â–ƒâ–ˆ  â–ƒ â–ƒ  â–ˆ
                        (6.81 Âµs â€¦ 7.17 Âµs)   7.16 Âµs â–‚â–‚ â–‡â–ˆâ–ˆ  â–ˆâ–‡â–ˆâ–‚â–‡â–ˆ
                    (  0.30  b â€¦  14.87 kb) 767.86  b â–ˆâ–ˆâ–†â–ˆâ–ˆâ–ˆâ–†â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–â–â–†â–†â–â–†
                  4.68 ipc (  1.52% stalls)  99.11% L1 data cache
         22.00k cycles 102.95k instructions  35.56% retired LD/ST ( 36.61k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  1.15 ms
                     JsonJoy â”¤â– â–  76.43 Âµs
             structuredClone â”¤â– â– â– â– â– â–  193.02 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â–  160.22 Âµs
        JsonSchema.deepClone â”¤ 6.95 Âµs
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   10.99x faster than JsonJoy
   23.04x faster than JSON.stringify + JSON.parse
   27.75x faster than structuredClone
   165x faster than Lodash

ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: Fuzz
  data: {
    "_7e6u": false,
    "__y_9i": false
  }


  schema: {
    "type": "object",
    "properties": {
      "_7e6u": {
        "type": "boolean"
      },
      "__y_9i": {
        "type": "boolean"
      }
    },
    "required": [
      "_7e6u"
    ]
  }

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: fuzz
------------------------------------------- -------------------------------
structuredClone                1.01 Âµs/iter   1.04 Âµs    â–ˆâ–†â–‚
                      (939.09 ns â€¦ 1.16 Âµs)   1.11 Âµs   â–ˆâ–ˆâ–ˆâ–ˆâ–…â–…â–†â–… â–†â–ƒâ–ƒâ–„
                    ( 14.04  b â€¦ 278.20  b)  42.70  b â–ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–„â–ƒâ–‚â–‚
                  4.34 ipc (  1.37% stalls)  98.21% L1 data cache
          2.96k cycles  12.87k instructions  35.05% retired LD/ST (  4.51k)

Lodash                       703.81 ns/iter 862.77 ns                  â–ˆ
                      (248.84 ns â€¦ 1.01 Âµs) 976.02 ns       â–‚â–ˆâ–‡       â–ˆâ–ˆ
                    (  0.49  b â€¦ 970.59  b) 421.00  b â–„â–â–â–â–â–â–ˆâ–ˆâ–ˆâ–„â–ƒâ–‚â–‚â–â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–„â–‚
                  4.04 ipc (  1.56% stalls)  98.20% L1 data cache
          2.01k cycles   8.13k instructions  38.74% retired LD/ST (  3.15k)

JSON.stringify + JSON.parse  483.85 ns/iter 545.65 ns       â–ˆâ–†        â–‚
                    (331.65 ns â€¦ 633.28 ns) 599.63 ns       â–ˆâ–ˆâ–ƒ      â–ˆâ–ˆâ–†
                    ( 25.19  b â€¦ 348.66  b)  70.31  b â–â–‚â–â–â–â–†â–ˆâ–ˆâ–ˆâ–…â–‚â–â–â–‚â–†â–ˆâ–ˆâ–ˆâ–ˆâ–ƒâ–‚
                  4.32 ipc (  1.17% stalls)  98.35% L1 data cache
          1.43k cycles   6.17k instructions  36.74% retired LD/ST (  2.27k)

JsonSchema.deepClone          47.82 ns/iter  49.90 ns    â–ˆ
                      (8.12 ns â€¦ 599.84 ns) 200.01 ns    â–ˆâ–‡
                    (  2.69  b â€¦ 148.56  b)  40.08  b â–ƒâ–â–„â–ˆâ–ˆâ–ˆâ–ƒâ–‚â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.11 ipc (  1.24% stalls)  98.95% L1 data cache
         128.13 cycles  398.51 instructions  45.62% retired LD/ST ( 181.81)

                             â”Œ                                            â”
             structuredClone â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  1.01 Âµs
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  703.81 ns
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  483.85 ns
        JsonSchema.deepClone â”¤ 47.82 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   10.12x faster than JSON.stringify + JSON.parse
   14.72x faster than Lodash
   21.03x faster than structuredClone
