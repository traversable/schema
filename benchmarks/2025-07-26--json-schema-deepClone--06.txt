clk: ~2.94 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: object (shallow)
------------------------------------------- -------------------------------
Lodash                         4.13 Âµs/iter   4.18 Âµs           â–„â–„â–ˆâ–„â–‚
                        (3.93 Âµs â€¦ 4.31 Âµs)   4.28 Âµs           â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ƒ
                    (  5.89  b â€¦  24.21  b)   9.97  b â–…â–â–…â–ˆâ–‡â–…â–ƒâ–…â–ƒâ–ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–ƒâ–ƒâ–ƒ
                  4.57 ipc (  1.17% stalls)  98.63% L1 data cache
         13.03k cycles  59.52k instructions  34.80% retired LD/ST ( 20.72k)

JsonJoy                      251.77 ns/iter 311.14 ns      â–ˆ
                    (142.03 ns â€¦ 464.59 ns) 427.40 ns      â–ˆâ–†
                    ( 11.02  b â€¦ 448.20  b) 153.83  b â–ƒâ–â–â–â–â–ˆâ–ˆâ–ƒâ–â–â–â–‚â–ˆâ–†â–‚â–â–â–â–‚â–‚â–
                  5.42 ipc (  1.16% stalls)  98.56% L1 data cache
         728.68 cycles   3.95k instructions  34.83% retired LD/ST (  1.38k)

structuredClone                1.24 Âµs/iter   1.24 Âµs    â–‡â–ˆ
                        (1.19 Âµs â€¦ 1.40 Âµs)   1.36 Âµs   â–‡â–ˆâ–ˆâ–„â–ƒ
                    ( 13.19  b â€¦ 143.78  b)  28.53  b â–‚â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–…â–‚â–„â–‚â–‚â–ƒâ–ƒâ–ƒâ–‚â–‚â–â–â–â–
                  4.51 ipc (  1.27% stalls)  98.16% L1 data cache
          3.70k cycles  16.69k instructions  35.28% retired LD/ST (  5.89k)

JSON.stringify + JSON.parse  903.51 ns/iter 909.26 ns      â–…â–ˆâ–„
                    (868.60 ns â€¦ 985.31 ns) 967.63 ns     â–ˆâ–ˆâ–ˆâ–ˆâ–ƒâ–‚
                    (  0.85  b â€¦ 223.67  b)  22.32  b â–‚â–â–„â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–„â–„â–â–‚â–‚â–‚â–‚â–â–‚â–‚
                  4.53 ipc (  1.38% stalls)  98.10% L1 data cache
          2.66k cycles  12.07k instructions  36.14% retired LD/ST (  4.36k)

JsonSchema.deepClone         100.08 ns/iter  92.75 ns     â–ˆ
                     (33.12 ns â€¦ 328.83 ns) 280.96 ns     â–ˆ
                    (  0.99  b â€¦ 278.13  b)  75.81  b â–ƒâ–â–â–ˆâ–ˆâ–ˆâ–ƒâ–â–â–â–â–â–â–â–‚â–‚â–‚â–‚â–â–‚â–
                  4.88 ipc (  1.80% stalls)  98.92% L1 data cache
         283.29 cycles   1.38k instructions  38.59% retired LD/ST ( 533.16)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  4.13 Âµs
                     JsonJoy â”¤â–  251.77 ns
             structuredClone â”¤â– â– â– â– â– â– â– â– â– â–  1.24 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â– â–  903.51 ns
        JsonSchema.deepClone â”¤ 100.08 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   2.52x faster than JsonJoy
   9.03x faster than JSON.stringify + JSON.parse
   12.34x faster than structuredClone
   41.25x faster than Lodash

clk: ~3.04 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: array (deep)
------------------------------------------- -------------------------------
Lodash                         2.27 ms/iter   2.51 ms     â–ˆ
                        (1.74 ms â€¦ 4.15 ms)   3.14 ms     â–ˆâ–†     â–ˆ
                    (264.59 kb â€¦   2.77 mb) 562.69 kb â–ƒâ–„â–â–â–ˆâ–ˆâ–ƒâ–‚â–â–â–ˆâ–ˆâ–†â–‚â–‚â–‚â–‚â–â–‚â–â–
                  4.65 ipc (  0.99% stalls)  98.91% L1 data cache
          6.85M cycles  31.84M instructions  32.32% retired LD/ST ( 10.29M)

JsonJoy                      140.89 Âµs/iter 124.75 Âµs  â–ˆ
                       (68.17 Âµs â€¦ 1.09 ms) 789.42 Âµs  â–ˆ
                    (  4.44 kb â€¦ 346.11 kb)  91.34 kb â–â–ˆâ–†â–ƒâ–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–
                  3.87 ipc (  1.65% stalls)  98.10% L1 data cache
        405.19k cycles   1.57M instructions  35.55% retired LD/ST (557.31k)

structuredClone              404.68 Âµs/iter 349.83 Âµs  â–ˆâ–ƒ
                      (248.46 Âµs â€¦ 1.15 ms)   1.10 ms  â–ˆâ–ˆ
                    ( 22.40 kb â€¦ 210.25 kb) 124.81 kb â–‚â–ˆâ–ˆâ–†â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–…â–‚
                  3.89 ipc (  1.55% stalls)  98.54% L1 data cache
          1.17M cycles   4.57M instructions  35.05% retired LD/ST (  1.60M)

JSON.stringify + JSON.parse  350.72 Âµs/iter 298.71 Âµs  â–ˆ
                      (243.00 Âµs â€¦ 1.36 ms)   1.02 ms  â–ˆ
                    ( 17.41 kb â€¦  76.20 kb)  74.68 kb â–ƒâ–ˆâ–…â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–ƒâ–
                  3.41 ipc (  1.41% stalls)  98.22% L1 data cache
          1.03M cycles   3.50M instructions  37.09% retired LD/ST (  1.30M)

JsonSchema.deepClone          15.43 Âµs/iter  15.51 Âµs â–ˆ â–ˆâ–ˆ     â–ˆ   â–ˆ      â–ˆ
                      (15.20 Âµs â€¦ 15.82 Âµs)  15.70 Âµs â–ˆ â–ˆâ–ˆ â–… â–… â–ˆâ–…â–…â–…â–ˆ      â–ˆ
                    (  1.67  b â€¦  31.52 kb)   3.95 kb â–ˆâ–â–ˆâ–ˆâ–â–ˆâ–â–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–â–â–â–â–â–â–ˆ
                  4.50 ipc (  2.22% stalls)  97.15% L1 data cache
         49.39k cycles 222.40k instructions  35.64% retired LD/ST ( 79.26k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  2.27 ms
                     JsonJoy â”¤â– â–  140.89 Âµs
             structuredClone â”¤â– â– â– â– â– â–  404.68 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â–  350.72 Âµs
        JsonSchema.deepClone â”¤ 15.43 Âµs
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   9.13x faster than JsonJoy
   22.73x faster than JSON.stringify + JSON.parse
   26.23x faster than structuredClone
   147.24x faster than Lodash

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: tuple
------------------------------------------- -------------------------------
Lodash                         6.16 Âµs/iter   6.21 Âµs         â–ƒ â–ˆâ–ƒâ–ƒâ–ƒ â–ƒ
                        (6.02 Âµs â€¦ 6.30 Âµs)   6.29 Âµs â–‚â–‚   â–‡ â–‡â–ˆâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–‡â–ˆ  â–‚â–‡
                    (  6.61  b â€¦  20.49  b)  10.28  b â–ˆâ–ˆâ–†â–†â–†â–ˆâ–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–â–†â–ˆâ–ˆâ–†
                  4.67 ipc (  0.74% stalls)  99.11% L1 data cache
         19.52k cycles  91.17k instructions  33.65% retired LD/ST ( 30.68k)

JsonJoy                      482.82 ns/iter 547.12 ns        â–ˆ
                    (229.28 ns â€¦ 797.30 ns) 710.04 ns        â–ˆâ–‡     â–ƒ
                    (113.42  b â€¦ 848.39  b) 471.79  b â–â–â–â–â–â–â–ƒâ–ˆâ–ˆâ–…â–„â–†â–ˆâ–ˆâ–ˆâ–†â–ƒâ–ƒâ–â–â–
                  4.86 ipc (  1.35% stalls)  98.45% L1 data cache
          1.39k cycles   6.74k instructions  34.90% retired LD/ST (  2.35k)

structuredClone                1.71 Âµs/iter   1.72 Âµs      â–‚â–ˆ
                        (1.66 Âµs â€¦ 1.86 Âµs)   1.82 Âµs     â–ˆâ–ˆâ–ˆâ–ˆ
                    (  6.01  b â€¦ 624.06  b)  33.94  b â–‚â–ƒâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–ˆâ–†â–‡â–…â–…â–‚â–â–‚â–‚â–‚â–‚â–‚â–‚â–‚
                  4.82 ipc (  1.56% stalls)  98.28% L1 data cache
          5.19k cycles  25.03k instructions  35.31% retired LD/ST (  8.84k)

JSON.stringify + JSON.parse    1.32 Âµs/iter   1.32 Âµs       â–†â–ˆâ–…
                        (1.27 Âµs â€¦ 1.47 Âµs)   1.39 Âµs      â–†â–ˆâ–ˆâ–ˆâ–‚ â–‚
                    (  2.57  b â€¦ 188.68  b)  16.50  b â–ƒâ–‚â–‚â–„â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ƒâ–„â–ƒâ–‚â–‚â–‚â–‚â–ƒâ–‚
                  4.61 ipc (  1.07% stalls)  98.87% L1 data cache
          3.96k cycles  18.28k instructions  36.73% retired LD/ST (  6.71k)

JsonSchema.deepClone         292.34 ns/iter 502.91 ns â–†â–ˆ
                    (134.11 ns â€¦ 725.83 ns) 622.54 ns â–ˆâ–ˆ     â–ˆ         â–‡
                    ( 29.27  b â€¦ 511.31  b) 168.03  b â–ˆâ–ˆâ–‚â–â–â–â–ƒâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–ˆâ–‡â–‚â–
                  3.79 ipc (  1.91% stalls)  97.27% L1 data cache
         809.88 cycles   3.07k instructions  36.71% retired LD/ST (  1.13k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  6.16 Âµs
                     JsonJoy â”¤â–  482.82 ns
             structuredClone â”¤â– â– â– â– â– â– â– â–  1.71 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â–  1.32 Âµs
        JsonSchema.deepClone â”¤ 292.34 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   1.65x faster than JsonJoy
   4.51x faster than JSON.stringify + JSON.parse
   5.84x faster than structuredClone
   21.08x faster than Lodash

clk: ~3.03 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: object (deep)
------------------------------------------- -------------------------------
Lodash                         1.59 ms/iter   2.02 ms    â–ˆ
                        (1.06 ms â€¦ 2.37 ms)   2.22 ms   â–„â–ˆ            â–…â–†
                    (  2.67 kb â€¦   1.65 mb) 235.83 kb â–‚â–‚â–ˆâ–ˆâ–†â–‚â–â–â–â–â–â–â–â–â–‚â–ƒâ–ˆâ–ˆâ–‡â–‚â–
                  4.35 ipc (  1.25% stalls)  98.55% L1 data cache
          4.67M cycles  20.35M instructions  32.47% retired LD/ST (  6.61M)

JsonJoy                       88.61 Âµs/iter  76.67 Âµs  â–ˆ
                       (39.88 Âµs â€¦ 1.03 ms) 714.38 Âµs  â–ˆ
                    (  1.32 kb â€¦ 276.23 kb)  53.83 kb â–…â–ˆâ–†â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–
                  3.71 ipc (  1.57% stalls)  97.95% L1 data cache
        257.50k cycles 954.77k instructions  35.17% retired LD/ST (335.81k)

structuredClone              241.26 Âµs/iter 199.71 Âµs  â–ˆ
                      (155.04 Âµs â€¦ 1.12 ms) 968.25 Âµs  â–ˆ
                    ( 75.14 kb â€¦ 135.69 kb)  75.24 kb â–„â–ˆâ–ƒâ–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–‚â–
                  3.83 ipc (  1.56% stalls)  98.51% L1 data cache
        700.55k cycles   2.68M instructions  34.94% retired LD/ST (937.63k)

JSON.stringify + JSON.parse  195.38 Âµs/iter 175.17 Âµs  â–ˆ
                      (144.17 Âµs â€¦ 1.14 ms) 840.33 Âµs â–†â–ˆ
                    ( 10.34 kb â€¦ 109.33 kb)  44.76 kb â–ˆâ–ˆâ–„â–‚â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–â–‚â–
                  3.49 ipc (  1.16% stalls)  98.43% L1 data cache
        578.70k cycles   2.02M instructions  37.24% retired LD/ST (751.47k)

JsonSchema.deepClone           6.48 Âµs/iter   6.52 Âµs     â–ˆ
                        (6.37 Âµs â€¦ 6.71 Âµs)   6.66 Âµs  â–‚â–‚ â–ˆâ–…â–… â–‚â–‡â–…â–…â–‚
                    (  1.68  b â€¦   3.99 kb) 193.24  b â–„â–ˆâ–ˆâ–‡â–ˆâ–ˆâ–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–â–â–â–â–â–â–„â–‡
                  5.54 ipc (  2.25% stalls)  99.01% L1 data cache
         20.43k cycles 113.09k instructions  35.70% retired LD/ST ( 40.37k)

                             â”Œ                                            â”
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  1.59 ms
                     JsonJoy â”¤â– â–  88.61 Âµs
             structuredClone â”¤â– â– â– â– â–  241.26 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â–  195.38 Âµs
        JsonSchema.deepClone â”¤ 6.48 Âµs
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   13.67x faster than JsonJoy
   30.15x faster than JSON.stringify + JSON.parse
   37.23x faster than structuredClone
   245.61x faster than Lodash


ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: Fuzz
  data: {
    "E1$": true,
    "F_8$jM$3_$": "~#%\"",
    "_t": false,
    "pco": false,
    "jv": false,
    "_$iTG": "@q.-o0kC",
    "D3$$$7r": true
  }


  schema: {
    "allOf": [
      {
        "type": "object",
        "properties": {
          "E1$": {
            "type": "boolean"
          },
          "F_8$jM$3_$": {
            "type": "string"
          },
          "_t": {
            "type": "boolean"
          },
          "pco": {
            "type": "boolean"
          }
        },
        "required": []
      },
      {
        "type": "object",
        "properties": {
          "jv": {
            "type": "boolean"
          },
          "_$iTG": {
            "type": "string"
          },
          "D3$$$7r": {
            "type": "boolean"
          }
        },
        "required": []
      }
    ]
  }

clk: ~3.03 GHz
cpu: Apple M1 Pro
runtime: node 22.13.1 (arm64-darwin)

benchmark                   avg (min â€¦ max) p75 / p99    (min â€¦ top 1%)
------------------------------------------- -------------------------------
â€¢ ã€–ğŸï¸ã€—â€ºâ€ºâ€º JsonSchema.deepClone: fuzz
------------------------------------------- -------------------------------
structuredClone                1.51 Âµs/iter   1.52 Âµs     â–ˆ
                        (1.46 Âµs â€¦ 1.65 Âµs)   1.62 Âµs   â–…â–‡â–ˆâ–ˆâ–…â–ˆâ–…
                    (  8.09  b â€¦ 107.45  b)  23.71  b â–‡â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„â–…â–…â–ƒâ–â–ƒâ–ƒâ–ƒâ–‚â–â–‚
                  4.74 ipc (  1.47% stalls)  98.09% L1 data cache
          4.57k cycles  21.67k instructions  34.87% retired LD/ST (  7.55k)

Lodash                         4.55 Âµs/iter   4.62 Âµs             â–ˆ   â–ˆ
                        (4.31 Âµs â€¦ 4.70 Âµs)   4.69 Âµs  â–ƒ  â–ƒ      â–†â–ˆâ–†â–ˆâ–†â–ˆâ–ƒ  â–ƒ
                    (  6.88  b â€¦ 192.71  b)  19.22  b â–„â–ˆâ–â–„â–ˆâ–„â–†â–â–„â–†â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
                  4.60 ipc (  0.92% stalls)  98.78% L1 data cache
         14.27k cycles  65.57k instructions  34.64% retired LD/ST ( 22.71k)

JSON.stringify + JSON.parse    1.13 Âµs/iter   1.14 Âµs     â–…â–ˆâ–‚
                        (1.09 Âµs â€¦ 1.21 Âµs)   1.19 Âµs   â–†â–‡â–ˆâ–ˆâ–ˆâ–ˆ â–ƒ
                    ( 12.25  b â€¦ 164.23  b)  19.14  b â–‚â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–†â–‚â–‚â–ƒâ–ƒâ–ƒâ–ƒâ–‚â–‚
                  4.91 ipc (  1.10% stalls)  98.79% L1 data cache
          3.38k cycles  16.58k instructions  36.35% retired LD/ST (  6.03k)

JsonSchema.deepClone         284.53 ns/iter 314.53 ns       â–ˆ
                    (139.26 ns â€¦ 519.63 ns) 503.62 ns       â–ˆâ–ƒ
                    (  0.10  b â€¦ 670.20  b) 296.80  b â–„â–â–â–â–â–‚â–ˆâ–ˆâ–ƒâ–„â–ˆâ–ƒâ–‚â–â–â–â–â–‚â–‚â–ƒâ–‚
                  5.17 ipc (  1.41% stalls)  98.88% L1 data cache
         821.35 cycles   4.24k instructions  34.31% retired LD/ST (  1.46k)

                             â”Œ                                            â”
             structuredClone â”¤â– â– â– â– â– â– â– â– â– â–  1.51 Âµs
                      Lodash â”¤â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  4.55 Âµs
 JSON.stringify + JSON.parse â”¤â– â– â– â– â– â– â–  1.13 Âµs
        JsonSchema.deepClone â”¤ 284.53 ns
                             â””                                            â”˜

summary
  JsonSchema.deepClone
   3.96x faster than JSON.stringify + JSON.parse
   5.3x faster than structuredClone
   15.98x faster than Lodash
